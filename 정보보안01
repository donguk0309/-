시스템 보안
시스템 보안 자원들의 기밀성, 무결성, 가용성을 보장하기 위해 취해지는 활동

(요소)
계정관리
세션관리
접근제어
권한관리
로그롼리
취약점관리

amd(x86)
(1). 로키리눅스 
9.6(최소기능 iso)다운로드 minimal 버전 (그래픽 제외)
(2). windows server 2022 iso 다운로드
(3). kalilinux 다운로드

virtual box 새 가상 머신
linux 선택 Rocky(Red Hat) 선택

부팅 순서에서 플로피 제거후 하드디스크를 1순위, 광 디스크2순위로 설정

프로세서에서 확장된 기능 설정

저장소에서 "비어있음"에서 디스크 파일 선택

오디오 활성화 제거
USB 컨트롤러 활성화

네트워크 설정
(공동 실습실)에서는 
NAT또는 브리지

Windows 2022 버전 선택
4GB or 8GB (그래픽으로 인해 메모리 크기 증가)
CPU 2개

Rocky와 동일한 설정

English 선택
continue

경고 표시(파티션 설치, 타임설정, 루트키 설정)를 완료
++) 좌측 상단의 Done클릭
    time and date
우분투의 경우 user로 접속해서 루트키를 만들어야함

Rocky의 경우 바로 root키를 만들 수 있음

Allow root ssh login with password를 클릭하여 루트가 키를 가지고 ssh접속하는것을 허용

begin install 클릭

++) 가상머신을 guest, 로컬을 호스트라함

++) 게스트와 호스트를 마우스 이동을 위해 ctrl + alt

Web Sever -> http(80포트) / https(443포트)
https를 사용하기 위해서는 인증서를 적용해야함
http는 패킷이 암호화가 되지 않아 스니핑시 데이터가 노출된다
telnet, ftp 또한 암호화가 되지 않는다

ip 설정이 되지않아(공용실습실) putty로 원격접속은 불가

ip address로 ip 확인시 ip없음이 뜸

++)snapshot으로 백업후 virtualbox폴더내에 shapshot에서 복제가능
머신 우클릭후 복제 선택후 파일 선택
모든 복제 머신에서 mac주소를 다르게 쓰는법
mac주소 정책에서 "모든 네트워크 어뎁터의 새 mac주소 생성" 클릭

완전한 복제 클릭(독립)

스냅샷에서 "모두" 클릭

++)ip 주소가 설정된 후 복제한다면 동시에 띄울경우 ip충돌이 일어남

네트워크 설정기법 종류

nmcli
nmtui 텍스트 기반 네트워크 메니저

실습실은 dhcp로 ip를 자동으로 받아오지 못함
nmtui -> edit 설정 -> edit, manual로 바꾸기 -> ipv4 수동으로 바꾸기 -> show -> add address

호스트 cmd에서 ip확인후 설정
(예시)
192.168.5.x

ping을 보냈을때 이미 사용중인지 확인

gateway, dns server설정

설정후 활성화 여부 확인
acricate a connection에 들어갔을때 *이 나와야함

nmcli로 하는법

ls /etc/NetworkManager/system-connections/
확인시 파일이 네트워크 설정 파일이 나옴

cat /etc/NetworkManager/system-connections/랜카드이름.nmconnection

이후 편집기에서 바꾸면됨

설정완료후 명령어 실행
++)nmcli connection reload
nmcli connection up 랜카드이름


명령어로만 다하는법

nmcli connection mod "랜카드이름" ipv4 address 주소
nmcli connection mod "랜카드이름" ipv4 gateway 주소
nmcli connection mod "랜카드이름" ipv4 dns 주소

설정후 reload

ip설정이 완료되었으므로 puuty로 원격접속 가능
putty외에 다른방법 cmd에서 

ssh [사용자 ID]@[접속하려는 컴퓨터의 IP주소 또는 도메인]
ssh -p 22 [사용자 ID]@[접속하려는 컴퓨터의 IP주소 또는 도메인]

ssh는 telnet의 암호화 버전

https를 사용하기위해서는 http먼저

http구축

apache계열의

apm / nginx
(apache php mariadb)

mariadb는 mysql기반임

국내는 java가 웹서버를 주도, 전세계는 php가 주도

클라이언트는 요청
서버는 응답

응답종류에 따라
파일서버는 ftp
메일서버는 mail

http/https/ssh/telnet/samba/nfs => 응용프로토콜
osi 7 계층에서 응용계층

응용계층을 쓰기위해서는 상위 계층인 전송계층의(프로토콜) tcp, udp를 사용해야햄

request
responds

클라이언트가 syn플래그로 요청을 보내고 서버가 syn플래그 + ack(요청 허용) 클라이언트에게 보내고 클라이언트가 ack를 보내면 서버는 연결을 확립
이과정을 tcp-3-way-handshaking이라고함

tcp : 배달부







